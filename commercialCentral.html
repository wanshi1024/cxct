<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="keywords" content="美的空调,美的空调维修,美的空调售后,美的中央空调,美的空调设计,美的家用中央空调,美的螺杆机,美的离心机">
    <meta name="description" itemprop="description"
        content="环艺建筑能源科技有限公司依托20年的暖通行业经验积累，向市场提供绿色节能环保、低成本高质量的室内环境系统，建筑环艺能源科技有限公司利用高科技的管理手段，将不可控的工程过程变成产品生产过程，通过对生产过程各环节的质量把控，与客户头脑中的需求无缝实现，向客户提供一个满意的工程结果。">
    <title>商用中央空调</title>
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/commercial.css">
</head>

<body>
    <div class="container">
        <!-- 顶部 -->
        <header id="header"></header>
        <!-- 导航 -->
        <nav id="nav"></nav>
        <!-- 轮播 -->
        <div id="carousel"></div>

        <main id="app">
            <div class="title">
                商用中央空调
            </div>
            <div class="content">
                <!-- 数据格式
                    id: (...)
                    productName: (...)
                    productPic: (...)
                    productType: (...) -->
                <a class="box" v-for="(item,index) in productList" :key="index" @click="goDetailPage(item.id)">
                        <!-- ./img/图片 7.jpg -->
                    <img :src="item.productPic" alt="">
                    <div class="text" v-text="item.productName">R134a满液式水冷螺杆</div>
                </a>

            </div>
            <link rel="stylesheet" type="text/css" href="https://unpkg.com/iview/dist/styles/iview.css">
            <!-- <link rel="stylesheet" href="./lib/iview.css"> -->
            <script type="text/javascript" src="./lib/vue.min.js"></script>
            <!-- <script type="text/javascript" src="https://unpkg.com/iview/dist/iview.min.js"></script> -->
            <script src="./lib/iview.min.js"></script>

            <div id="paging">
                <Page :total="total" show-total show-elevator @on-change="change" />
            </div>
            <script>
                new Vue({
                    el: '#app',
                    data() {
                        return {
                            currentIndex: 1,
                            total: 0,
                            productList: []
                        }
                    },
                    created() {
                        let resp = fetch('http://47.104.110.146:5000/api/Product/Get?page=1&size=6')
                            .then(res => {
                                return res.json()
                            }).catch(err => {
                                return {}
                            })
                        resp.then(res => {
                            console.log(res);
                            this.total = res.Total;
                            this.productList = res.ProductList;

                        }).catch(err => {
                            console.log(resp);

                        })

                    },
                    methods: {
                        // 页码改变
                        change(e) {
                            console.log(e);
                        },
                        // 跳转
                        goDetailPage(id) {
                            console.log(id);
                            location.href = './businessDetails.html?id=' + id;
                        }
                    }
                })

            </script>
        </main>



        <!-- 行业链接 -->
        <div id="trade-link"></div>
        <!-- 底部 -->
        <div id="footer"></div>
    </div>
    <script src="./js/common.js"></script>
</body>

</html>